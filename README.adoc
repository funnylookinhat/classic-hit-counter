= Classic Hit Counter

Add a fancy visitor counter to your website - _now with analytics!_

== TODO List

* Setup cache control headers
** 1 hour

*Basic implementation goals:*

* Define domain to accept requests for
** Check referrer matches, if not, just return count.
* On request:
** Check if referrer matches site, if so - update count and return new image
** Otherwise return previous image
* Response headers:
** If referrer came in, give them a cookie with their visitor number
** Expires in 24h
* Cookie logic
** Track which pages they've seen
** If they have a cookie, just return previous image.
** If cookie doesn't show a page hit, track page hit.

*Things worth making configurable:*

* Small vs. Large Images
* Different Image Styles
* Minimum Digits
* Cookies to not double-count in 24h? configurable period

*Tracking Ideas*

* Referrers
* User Agents
* Daily Totals

*Config Values*

* Cache Control
* Site
* Require Site Check
* Data Directory
* Counter Style
* Configure Style - padding, spacing, etc.

*Deployment*

* Build Script
* Docker Image

== Some things I've learned


=== deno compile + node packages

deno compile doesn't work if you're using node: package that require building
an architecture specific binary.

Sharp isn't pulled in correctly, so we're left with just deno run.

=== files are read relative to the CWD

Don't fight it - if you have a file in assets/foo/bar/baz.txt and you're in
src/qux/blargle.ts - just read the file with `./assets/foo/bar/baz.txt`

It's weird - but I suspect that this will help long term with compiling assets
into binaries.
